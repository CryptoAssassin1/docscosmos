@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================================================
   Design tokens (CSS variables) – single source of truth
   ========================================================= */
:root {
  --cosmos-primary:   #6976af;
  --cosmos-primary-2: #8791bf;
  --cosmos-accent:    #545e8c;
  --cosmos-bg:        #ffffff;
  --cosmos-surface:   #ffffff;
  --cosmos-border:    #e2e8f0;
}
[data-theme='dark'] {
  --cosmos-bg:      #0a0b0d;
  --cosmos-surface: #1a1b23;
  --cosmos-border:  #2a2b33;
}

body {
  @apply bg-[color:var(--cosmos-bg)] text-cosmos-800 dark:text-cosmos-100 font-sans antialiased leading-relaxed;
}

/* =========================================================
   Typography via @tailwindcss/typography (prose classes)
   ========================================================= */
.prose {
  @apply max-w-none;
  color: inherit;
}
.prose h1   {@apply text-4xl font-bold mt-8 mb-4 text-gradient;}
.prose h2   {@apply text-3xl font-semibold mt-8 mb-3;}
.prose h3   {@apply text-2xl font-semibold mt-6 mb-2;}
.prose p    {@apply my-4;}
.prose a    {@apply underline decoration-primary transition hover:text-primary-dark;}
.prose strong {@apply font-semibold text-cosmos-900 dark:text-cosmos-100;}

/* =========================================================
   Code blocks – auto‑contained, modern, accessible
   ========================================================= */
/* outer wrapper produced by rehype‑pretty‑code / Mintlify */
pre, div[role='presentation'] > pre {
  @apply relative w-full overflow-x-auto rounded-md border p-4 text-sm leading-relaxed shadow-soft font-mono bg-[color:var(--cosmos-surface)] border-[color:var(--cosmos-border)];
  transition: border-color .15s ease, box-shadow .15s ease;
}
pre:hover {
  border-color: var(--cosmos-primary);
  box-shadow: 0 0 0 2px var(--cosmos-primary-2);
}
pre > code { @apply whitespace-pre-wrap break-words; }
/* thin accent‑coloured scrollbar */
pre::-webkit-scrollbar { height: .5rem; }              
pre::-webkit-scrollbar-thumb {                           
  background: var(--cosmos-accent); border-radius: .25rem;
}
pre { scrollbar-width: thin; scrollbar-color: var(--cosmos-accent) transparent; }

/* =========================================================
   Utility helpers outside Tailwind’s scope
   ========================================================= */
html { scroll-behavior: smooth; }
*:focus-visible { outline: 2px solid var(--cosmos-primary); outline-offset: 2px; border-radius: 4px; }

/* =========================================================
   Component classes supplied via tailwind.config plugin
   ========================================================= */
/* ( .btn  .card  .callout ) already defined with @apply */