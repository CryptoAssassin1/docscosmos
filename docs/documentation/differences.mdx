---
title: "EVM Compatibility"
description: "High-level overview of any differences between Cosmos EVM and Ethereum mainnet"
mode: "wide"
keywords: ['differences', 'ethereum', 'evm', 'cosmos', 'tendermint', 'consensus', 'finality', 'json-rpc', 'compatibility', 'precompiles', 'ibc', 'mev', 'gas', 'basefee', 'uncle blocks', 'reorganization', 'stub methods', 'implementation', 'bft', 'validator', 'staking']
---

import { footnote } from '/snippets/footnote.mdx'

Cosmos EVM provides Ethereum compatibility on Cosmos chains with significant architectural differences from both standard Ethereum and Ethermint-based implementations.

<Warning>
  **The EVM module is in active development:** Details within this documentation may change or be removed entirely as development continues. A versioned form of this documentation is in development for future releases.

  **Implementation Variations:** This documentation is specific to [Cosmos-EVM](https://github.com/cosmos/evm) and may not be applicable in part or in full to older versions or Ethermint variants.
</Warning>

## Core Differences

| Aspect | Cosmos EVM | Standard EVM | Impact |
|--------|------------|--------------|---------|
| **Transaction Ordering** | Fee priority and nonce with mempool | Gas price and nonce | Similar ordering with two-tier system |
| **Transactions per Block** | Multiple per account | Multiple per account | Full Ethereum compatibility |
| **Mempool** | Two-tiered (local queue + public pool) **[EXPERIMENTAL]** | Traditional mempool | Nonce gaps queued locally, valid txs broadcast |
| **Block Rewards** | Native token inflation to validators | Block rewards + tips | Different economic model |
| **Consensus** | Tendermint/CometBFT | Proof of Work/Stake | Byzantine Fault Tolerant with 2/3+ validator agreement |
| **Finality** | Immediate (single block, irreversible) | Probabilistic (12+ confirmations) | No waiting period vs 12-15 minute finality |
| **Chain Reorganizations** | Not possible | Possible | Event handling simplified |
| **Address Formats** | Dual (0x... and cosmos1...) | Ethereum only (0x...) | Same account accessible via both formats |
| **Gas Token** | Native chain token (18 decimals via x/precisebank) | ETH/derivatives | Full precision compatibility |
| **Base Fee** | Configurable (can be 0 or dynamic) | Dynamic based on demand | Chain-specific configuration |
| **Block Time** | 1-2 seconds (configurable via `timeout_commit`) | 12-15 seconds (varies by L2) | Faster transaction confirmation |
| **Cross-chain** | Native IBC | Bridge protocols | Built-in interoperability |

## Gas Price Behavior

<CodeGroup>
```solidity Cosmos EVM - BASEFEE Configurable
// May return 0 if NoBaseFee is true, or dynamic value if EIP-1559 is enabled
uint256 baseFee = block.basefee;

// BaseFee is distributed to validators (not burned)
// Lower-bounded by global min-gas-price
uint256 gasPrice = tx.gasprice;

// Priority calculation for EVM transactions
uint256 priority = min(tx.gasTipCap, tx.gasFeeCap - baseFee);
```

```solidity Standard EVM - BASEFEE Burned
// Returns dynamic base fee
uint256 baseFee = block.basefee;

// Base fee is burned, not distributed
uint256 maxFee = baseFee * 2 + priorityFee;

// Priority is just the tip
uint256 priority = tx.priorityFeePerGas;
```
</CodeGroup>

<Info>
Cosmos EVM supports EIP-1559 with dynamic base fees, but with key differences:
- Base fee is **distributed to validators** instead of burned (preserving token economics)
- Can be disabled via `NoBaseFee` parameter (returns 0 for `block.basefee`)
- Lower-bounded by global `min-gas-price` configuration
- Calculated using x/feemarket module based on block utilization
- Transaction priority: `min(gas_tip_cap, gas_fee_cap - base_fee)` for EVM txs
- Unlike Ethereum where base fee is burned, Cosmos EVM maintains token supply
</Info>

## Precompiled Contracts

<CardGroup cols={2}>
  <Card title="Cosmos Precompiles" icon="cube" href="/docs/documentation/smart-contracts/precompiles">
    Access staking, governance, IBC, and other Cosmos SDK modules via precompiled contracts at fixed addresses.
  </Card>

  <Card title="Standard Precompiles" icon="shield-check">
    All standard Ethereum cryptographic precompiles (ecrecover, sha256, etc.) are fully supported.
  </Card>
</CardGroup>

### Active Precompiles

| Precompile | Address |
|------------|---------|
| **P256 Verify** | `0x0000000000000000000000000000000000000100` |
| **Bech32** | `0x0000000000000000000000000000000000000400` |
| **Staking** | `0x0000000000000000000000000000000000000800` |
| **Distribution** | `0x0000000000000000000000000000000000000801` |
| **ICS20** | `0x0000000000000000000000000000000000000802` |
| **Bank** | `0x0000000000000000000000000000000000000804` |
| **Governance** | `0x0000000000000000000000000000000000000805` |
| **Slashing** | `0x0000000000000000000000000000000000000806` |

## JSON-RPC Method Support

Cosmos EVM implements the Ethereum JSON-RPC API with varying levels of support across different method categories:

<Card title="JSON-RPC Implementation" icon="code" href="/docs/api-reference/ethereum-json-rpc/methods">
  View the complete JSON-RPC methods reference with detailed implementation status for all 200+ methods across `eth_*`, `web3_*`, `net_*`, `txpool_*`, `personal_*`, `debug_*`, and `admin_*` namespaces.
</Card>

### Implementation Categories

**✅ Fully Functional:** Core Ethereum methods work as expected
- Transaction methods (`eth_sendTransaction`, `eth_getTransactionByHash`, `eth_getTransactionReceipt`)
- Block methods (`eth_getBlockByNumber`, `eth_getBlockByHash`)
- Account methods (`eth_getBalance`, `eth_getTransactionCount`)
- Call/estimate methods (`eth_call`, `eth_estimateGas`)
- Web3 utilities, network info, transaction pool queries

**⚠️ Compatibility Stubs:** Return empty/default values for compatibility
- Mining methods (no PoW mining in Tendermint)
- Uncle block methods (always return 0/null)
- Debug namespace (tracing not implemented)
- Admin/engine namespaces (node management differs)

**Important:** Methods returning `null` for non-existent data is correct Ethereum behavior, not a stub implementation


## Address Formats

<Card title="Dual Address System" icon="arrows-left-right" href="/docs/documentation/concepts/accounts#address-formats-for-clients">
  Same account accessible via both Ethereum (0x) and Cosmos (bech32) formats. Use Bech32 precompile for conversion.
</Card>

```
Ethereum: 0x742d35cc6644c068532fddb11B4C36A58D6D3eAb
Cosmos:   cosmos1wskntvnryr5qxpe4tv5k64rhc6kx6ma4dxjmav
```

## EIP Compatibility

<Card title="EIP Support Matrix" icon="list-check" href="/docs/documentation/eip-support">
  View the comprehensive matrix of all 339+ Core EIPs with detailed implementation status, searchable by EIP number or feature.
</Card>

### Key EIP Differences

<AccordionGroup>
  <Accordion title="EIP-1559: Base Fee Distribution">
    Unlike Ethereum where base fees are burned, Cosmos EVM distributes them to validators. Can be disabled via `NoBaseFee` parameter.
  </Accordion>

  <Accordion title="EIP-155: Chain-Level Enforcement">
    Currently enforced at chain level through AnteHandler rather than per-transaction. Migration to Geth implementation planned.
  </Accordion>

  <Accordion title="Consensus EIPs: Not Applicable">
    Difficulty adjustments, PoW→PoS transition, and beacon chain operations don't apply to Tendermint BFT consensus.
  </Accordion>

  <Accordion title="Custom Cosmos EIPs (CIPs)">
    Cosmos EVM supports custom improvement proposals:
    - **CIP-0000**: Modified CREATE/CREATE2 gas costs (10x multiplier)
    - **CIP-0001**: Modified CALL opcode gas costs (10x multiplier)
    - **CIP-0002**: Custom SSTORE gas cost (500 gas)
    - These are configurable and can be activated per chain requirements
  </Accordion>
</AccordionGroup>

## Implementation Details (Verified from Codebase)

### Chain Configuration
- **Default test chain ID**: 262144 (used for testing)
- **Chain config storage**: Singleton pattern - can only be set once during initialization
- **EIP activation**: All major EIPs activated from block 0 by default (Homestead through Cancun)
- **Blob configuration**: Includes default blob configs for Cancun, Prague, and Osaka

### Fee Distribution Architecture
- **No burning mechanism**: Base fees collected via `DeductTxCostsFromUserBalance` in x/vm/keeper/fees.go
- **Validator distribution**: Fees go to fee collector module account, then distributed to validators
- **Bank wrapper**: Used to handle 18-decimal conversion before deducting fees
- **Minimum gas price**: Enforced via `min-gas-price` parameter, lower-bounds all transactions

### Mempool Implementation Details
- **TxPool fork**: Based on go-ethereum v1.15.11 with significant modifications
- **Cosmos pool**: Uses `PriorityNonceMempool` for SDK transactions
- **Block gas limit**: Configurable per chain (default examples use 100M gas)
- **CheckTx handler**: Custom handler for nonce gap detection and queuing
- **Promotion mechanism**: `BroadcastTxFn` callback triggers when gaps are filled
- **Height requirement**: Mempool requires block height >= 1 to accept transactions

## Additional Key Differences

### Transaction Execution
- **Two-tiered mempool** (EXPERIMENTAL): Local queue for nonce-gapped transactions (not broadcast), public pool for executable transactions (broadcast to network)
  - Local TxPool forked from go-ethereum v1.15.11 with Cosmos adaptations
  - Background promotion when nonce gaps are filled via BroadcastTxFn callback
  - Requires block height 1+ before accepting transactions
- **Fee-priority ordering**: Fair competition between EVM and Cosmos txs based on effective tips
  - EVM priority: `min(gas_tip_cap, gas_fee_cap - base_fee)`
  - Cosmos priority: `(fee_amount / gas_limit) - base_fee`
  - EVM transactions preferred on ties
- **Nonce gap handling**: Transactions with future nonces queued locally until gaps fill (unique to Cosmos EVM)
- **Multiple transactions per block per EOA**: Full support for batched transactions
- **Transaction replacement**: Same-nonce transactions with higher fees replace lower-fee ones (configurable threshold)
- **Automatic promotion**: Queued transactions promoted to public pool when gaps are filled
- **Deterministic execution**: Same transaction order for all validators due to BFT consensus

### State and Storage
- **No state rent**: No storage rent or state expiry mechanisms
- **Pruning**: Historical state can be pruned based on node configuration
- **Archive nodes**: Full historical state requires archive node configuration

### Network Architecture
- **Validator set**: Fixed validator set with stake-based voting power (2/3+ required for consensus)
- **Validator selection**: Deterministic round-robin proposer selection based on voting power
- **No light clients**: Full or archive nodes only, no light client protocol
- **P2P differences**: Uses Tendermint/CometBFT P2P networking instead of devp2p
- **Block propagation**: Gossip protocol with immediate finality, no uncle blocks

### Developer Considerations
- **Pending state**: Full pending state support via experimental mempool with nonce gap handling
- **Transaction batching**: Send multiple transactions at once, out-of-order delivery handled automatically
- **Gas refunds**: Standard Ethereum refund rules apply
- **Intrinsic gas**: Calculated using go-ethereum's `core.IntrinsicGas` function
- **Gas validation**: Enforces gas limit >= intrinsic gas during CheckTx
- **Revert reasons**: Full revert reason strings always available
- **Event reliability**: Events are immediately final, no need to wait for confirmations
- **Block timestamps**: More reliable due to BFT consensus requirements
- **Account abstraction**: EIP-7702 support coming in v0.5.0 for EOA code delegation
- **Opcode differences**:
  - DIFFICULTY/PREVRANDAO: Returns 0 (no PoW difficulty)
  - COINBASE: Returns validator operator address (block proposer)
  - BLOCKHASH: Limited history due to Tendermint consensus
- **Chain ID**: **Two completely separate independent values** (unlike Ethermint's single ID)
  - Cosmos string ID: Used for consensus/IBC/native SDK transactions
  - EVM integer ID: Stored as uint64 in ChainConfig, used for EIP-155/wallets/contracts
  - No derivation relationship between the two IDs (fully independent)
- **Token precision**: x/precisebank module provides 18 decimal precision for native tokens
  - Wraps x/bank to extend precision from 6 to 18 decimals
  - 1 uatom = 10^12 aatom (aatom is the EVM-native sub-atomic unit)
  - Every aatom is fully backed by uatom in x/bank
  - Fractional balances (< 10^12 aatom) stored separately in x/precisebank
- **Storage costs**: No state rent mechanisms, pruning configurable per node

## Migration from Evmos/Ethermint

<Warning>
  **Breaking Changes:** Migrating from Evmos/Ethermint requires careful planning due to fundamental architectural differences.
</Warning>

### Critical Architectural Differences

#### Chain ID System (Most Important)

<Tabs>
  <Tab title="Cosmos EVM (New)">
    **Two Completely Independent Chain IDs:**
    - **Cosmos Chain ID**: String format (`"cosmosevm-1"`)
      - Used by: CometBFT, IBC, native SDK transactions
      - Can change during upgrades
    - **EVM Chain ID**: Integer format (`9000`)
      - Used by: MetaMask, EIP-155, smart contracts
      - **Must remain constant** across upgrades

    ```json
    // genesis.json
    "chain_id": "cosmosevm-1",  // Cosmos ID

    // EVM params
    "evm_chain_id": "9000"      // EVM ID (separate)
    ```
  </Tab>

  <Tab title="Ethermint (Old)">
    **Single Combined Chain ID:**
    - Format: `{identifier}_{EIP155}-{version}`
    - Example: `evmos_9001-2`
    - Both Cosmos and EVM derive from same value
    - EIP-155 chain ID extracted from format
  </Tab>
</Tabs>

### State-Breaking Parameter Changes

#### Module Reorganization
- **x/evm → x/vm**: EVM module renamed to VM module
- **Organization change**: `evmos/os` → `cosmos/evm`
- **Protobuf changes**: Package names updated from `evmos` to `cosmos`
- **x/precisebank**: New module for 18-decimal precision
  - Extends bank module precision from 6 to 18 decimals
  - Maintains full backing of aatom by uatom
  - Required for EVM compatibility
- **x/erc20**: Handles automatic wrapping/unwrapping of Cosmos coins to ERC20
- **x/feemarket**: EIP-1559 dynamic base fee implementation

#### Feemarket Updates
<AccordionGroup>
  <Accordion title="MinGasPrice Type Change">
    **Breaking change from Evmos/OS:**
    ```diff
    - MinGasPrice string  // Old: string type
    + MinGasPrice sdk.Dec // New: decimal type
    ```
    - Global minimum gas price parameter enforcement
    - More precise fee calculations
    - Requires genesis state migration
  </Accordion>

  <Accordion title="Base Fee v1 Removal">
    - Legacy base fee implementation removed
    - New EIP-1559 implementation with validator distribution
    - Base fee no longer burned (distributed to validators)
    - Migration requires parameter updates
  </Accordion>

  <Accordion title="Fee Priority System">
    - Fair competition between EVM and Cosmos transactions
    - EVM priority: `min(gas_tip_cap, gas_fee_cap - base_fee)`
    - Cosmos priority: `(fee_amount / gas_limit) - base_fee`
    - Different from Evmos priority system
  </Accordion>
</AccordionGroup>

#### VM/App Configuration Changes
- **EIP Support**: Different set of activated EIPs
- **Config Structure**: New configuration format
- **Precompile Changes**: Removed x/authz dependency
- **IBC Denoms**: Changed from `erc20/` to `erc20` prefix

### Migration Checklist

<Steps>
  <Step title="Export State">
    Export existing chain state before any migration attempts
  </Step>

  <Step title="Update Chain IDs">
    Configure separate Cosmos and EVM chain IDs (cannot use Ethermint format)
  </Step>

  <Step title="Update Module Names">
    Rename all references from x/evm to x/vm in code and configs
  </Step>

  <Step title="Update Parameters">
    Migrate feemarket parameters including min_gas_price type
  </Step>

  <Step title="Test Thoroughly">
    Verify all precompiles, transactions, and IBC functionality
  </Step>
</Steps>

<Note>
  For detailed migration steps, see [Migration Guide v0.3 to v0.4](/docs/documentation/integration/migration-v0.3-to-v0.4)
</Note>

### Common Migration Issues

<Warning>
These issues frequently cause migration failures:
</Warning>

1. **Chain ID Format Errors**
   - Cannot use Ethermint format `evmos_9001-2`
   - Must configure two separate IDs
   - EVM chain ID must remain constant post-migration

2. **Genesis Migration Failures**
   - Module name changes (x/evm → x/vm)
   - Parameter type updates in feemarket
   - Protobuf package name changes

3. **Precompile Address Changes**
   - Different addresses than Evmos/Ethermint
   - Some precompiles removed or added
   - Verify all addresses before migration

4. **Transaction Pool Behavior**
   - Different mempool architecture
   - Changed priority calculations
   - New nonce gap handling

## Known Limitations and Considerations

### Implementation-Specific Variations
- **Precompile addresses**: May vary between chains - verify with your specific implementation
- **Transaction replacement thresholds**: Configurable per chain, not standardized at 10%
- **Validator rewards**: Distribution mechanics may vary based on chain parameters
- **Mempool configuration**: Two-tiered system is experimental and optional

### Missing Ethereum Features
- **State sync protocols**: No snap sync or fast sync equivalents
- **Light client protocol**: Only full nodes supported
- **MEV infrastructure**: No native flashbots or MEV-boost equivalents
- **Archive node pruning**: Different pruning strategies than Ethereum
- **Mining/PoW operations**: All mining-related RPC methods return stub values or are not implemented
- **Trace namespace**: Not implemented, use debug namespace instead
- **Admin namespace**: Limited implementation compared to go-ethereum

### Areas Under Development
- **EIP-155 enforcement**: Moving from chain-level to per-transaction validation
- **EIP-7702 (Account Abstraction)**: Support for EOA code delegation
- **EIP-2681 (Nonce Limit)**: Stricter overflow checking needed
- **Parameter migrations**: Ongoing work to simplify upgrades from Evmos/Ethermint ([Issue #424](https://github.com/cosmos/evm/issues/424))
- **Experimental Mempool**: Two-tiered mempool is experimental and actively developed - not recommended for production
- **Prague/Osaka Hard Forks**: Support for upcoming Ethereum upgrades

## Related Documentation

<CardGroup cols={3}>
  <Card title="Mempool Architecture" icon="layer-group" href="/docs/documentation/concepts/mempool">
    Two-tiered system with nonce gap handling
  </Card>

  <Card title="Gas & Fees" icon="gas-pump" href="/docs/documentation/concepts/gas-and-fees">
    EIP-1559 implementation details
  </Card>

  <Card title="Chain ID System" icon="link" href="/docs/documentation/concepts/chain-id">
    Dual chain ID architecture
  </Card>

  <Card title="Pending State" icon="clock" href="/docs/documentation/concepts/pending-state">
    Ethereum-compatible pending transactions
  </Card>

  <Card title="Integration Guide" icon="plug" href="/docs/documentation/integration/evm-module-integration">
    Add EVM to your Cosmos chain
  </Card>

  <Card title="Migration Guide" icon="arrow-up" href="/docs/documentation/integration/migration-v0.3-to-v0.4">
    Upgrade to latest version
  </Card>
</CardGroup>

## Security Considerations

### Audits
- **Sherlock Audit (July 2025)**: Security audit completed (see `sherlock_2025_07_28_final.pdf` in repository)
- **Experimental Features**: Two-tiered mempool is experimental - thoroughly test before production use
- **Production Readiness**: Core EVM functionality is production-ready, experimental features should be evaluated carefully

### Key Security Differences from Ethereum
- **No reorganizations**: Instant finality eliminates reorg-based attack vectors
- **Validator set security**: 2/3+ stake required for consensus provides strong security guarantees
- **Precompile permissions**: Direct module access requires careful permission management
- **Cross-chain risks**: IBC integration introduces additional attack surface to consider

## Additional Resources

- [Cosmos EVM GitHub Repository](https://github.com/cosmos/evm)
- [EVM Module Documentation](https://github.com/cosmos/evm/tree/main/docs)
- [Migration Guides](https://github.com/cosmos/evm/tree/main/docs/migrations)
- [Security Audits](https://github.com/cosmos/evm/tree/main/docs/audits)
- [Issue Tracker](https://github.com/cosmos/evm/issues)
