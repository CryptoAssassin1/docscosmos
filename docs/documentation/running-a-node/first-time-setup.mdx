---
title: First-Time Setup
sidebar_label: First-Time Setup
description: Building and running a Cosmos EVM node
---

## System Requirements

- **OS**: Ubuntu 20.04+, macOS 12+, Docker, or other Linux distributions
- **CPU**: Multi-core processor
- **RAM**: 8GB minimum recommended
- **Storage**: SSD with sufficient space for blockchain data
- **Internet**: Stable broadband connection

## Installation

<Tabs>
  <Tab title="Ubuntu/Debian">
    ### Install Prerequisites

    #### 1. Install Go 1.22+
    ```bash
    # Download and install Go
    wget https://go.dev/dl/go1.22.0.linux-amd64.tar.gz
    sudo rm -rf /usr/local/go
    sudo tar -C /usr/local -xzf go1.22.0.linux-amd64.tar.gz

    # Add Go to PATH
    echo 'export PATH=$PATH:/usr/local/go/bin' >> ~/.bashrc
    echo 'export PATH=$PATH:$HOME/go/bin' >> ~/.bashrc
    source ~/.bashrc

    # Verify installation
    go version
    ```

    #### 2. Install Build Tools
    ```bash
    sudo apt update
    sudo apt install git build-essential make
    ```

    #### 3. Build from Source
    ```bash
    # Clone repository
    mkdir -p ~/cosmos-workspace
    cd ~/cosmos-workspace
    git clone https://github.com/cosmos/evm.git
    cd evm

    # Checkout version
    git checkout v0.4.0

    # Build binary
    make build

    # Optional: Install globally
    sudo make install
    ```

    ### System Service Setup

    Create a systemd service for automatic startup:

    ```bash
    sudo nano /etc/systemd/system/evmd.service
    ```

    ```ini
    [Unit]
    Description=Cosmos EVM Node
    After=network.target

    [Service]
    Type=simple
    User=YOUR_USERNAME
    ExecStart=/home/YOUR_USERNAME/go/bin/evmd start
    Restart=always
    RestartSec=3
    LimitNOFILE=65535

    [Install]
    WantedBy=multi-user.target
    ```

    Enable and start:
    ```bash
    sudo systemctl daemon-reload
    sudo systemctl enable evmd
    sudo systemctl start evmd
    ```
  </Tab>

  <Tab title="macOS">
    ### Install Prerequisites

    #### 1. Install Homebrew (if needed)
    ```bash
    /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
    ```

    #### 2. Install Go and Build Tools
    ```bash
    # Install Go
    brew install go

    # Install build tools
    xcode-select --install
    brew install make

    # Verify installation
    go version
    ```

    #### 3. Build from Source
    ```bash
    # Clone repository
    mkdir -p ~/cosmos-workspace
    cd ~/cosmos-workspace
    git clone https://github.com/cosmos/evm.git
    cd evm

    # Checkout version
    git checkout v0.4.0

    # Build binary
    make build

    # Optional: Install globally
    sudo make install
    ```

    ### Background Service Setup

    Create a LaunchDaemon for automatic startup:

    ```bash
    nano ~/Library/LaunchAgents/com.cosmos.evmd.plist
    ```

    ```xml
    <?xml version="1.0" encoding="UTF-8"?>
    <!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
    <plist version="1.0">
    <dict>
        <key>Label</key>
        <string>com.cosmos.evmd</string>
        <key>ProgramArguments</key>
        <array>
            <string>/usr/local/bin/evmd</string>
            <string>start</string>
        </array>
        <key>RunAtLoad</key>
        <true/>
        <key>KeepAlive</key>
        <true/>
        <key>StandardErrorPath</key>
        <string>/tmp/evmd.err</string>
        <key>StandardOutPath</key>
        <string>/tmp/evmd.out</string>
    </dict>
    </plist>
    ```

    Load the service:
    ```bash
    launchctl load ~/Library/LaunchAgents/com.cosmos.evmd.plist
    ```
  </Tab>

  <Tab title="Docker">
    ### Using Docker Image

    #### 1. Pull Docker Image
    ```bash
    # Pull official image (when available)
    docker pull cosmos/evm:latest
    ```

    #### 2. Initialize Configuration
    ```bash
    # Create data directory
    mkdir -p ~/.evmd-docker

    # Initialize node
    docker run -v ~/.evmd-docker:/root/.evmd cosmos/evm:latest init mynode
    ```

    #### 3. Run Container
    ```bash
    # Run with port mapping
    docker run -d \
      --name evmd \
      -p 26656:26656 \
      -p 26657:26657 \
      -p 8545:8545 \
      -p 8546:8546 \
      -v ~/.evmd-docker:/root/.evmd \
      cosmos/evm:latest start
    ```

    #### 4. Docker Compose Setup

    Create `docker-compose.yml`:
    ```yaml
    version: '3.8'
    services:
      evmd:
        image: cosmos/evm:latest
        container_name: evmd
        ports:
          - "26656:26656"
          - "26657:26657"
          - "8545:8545"
          - "8546:8546"
        volumes:
          - evmd-data:/root/.evmd
        restart: always
        command: start

    volumes:
      evmd-data:
    ```

    Start with:
    ```bash
    docker-compose up -d
    ```
  </Tab>
</Tabs>

## Initialize Node

After installation, initialize your node:

<CodeGroup>
```bash Ubuntu/Debian
evmd init <moniker>
```

```bash macOS
evmd init <moniker>
```

```bash Docker
docker run -v ~/.evmd-docker:/root/.evmd cosmos/evm:latest init <moniker>
```
</CodeGroup>

This creates:
- `~/.evmd/config/` - Configuration files
- `~/.evmd/data/` - Blockchain data

### Configuration Files

- `app.toml` - Application configuration
- `client.toml` - Client configuration
- `config.toml` - Consensus configuration
- `genesis.json` - Initial blockchain state
- `node_key.json` - P2P identity
- `priv_validator_key.json` - Validator key

## Basic Configuration

Enable JSON-RPC for Ethereum compatibility:

<CodeGroup>
```bash Ubuntu/Debian
sed -i 's/enable = false/enable = true/' ~/.evmd/config/app.toml
```

```bash macOS
sed -i '' 's/enable = false/enable = true/' ~/.evmd/config/app.toml
```

```bash Docker
docker exec evmd sed -i 's/enable = false/enable = true/' /root/.evmd/config/app.toml
```
</CodeGroup>

Or manually edit `app.toml`:

```toml
# Accept free transactions (testing only)
minimum-gas-prices = "0aatom"

[json-rpc]
enable = true
address = "127.0.0.1:8545"
ws-address = "127.0.0.1:8546"
api = "eth,net,web3"
```

## Start Node

### Local Development

<CodeGroup>
```bash Ubuntu/Debian
evmd start
```

```bash macOS
evmd start
```

```bash Docker
docker start evmd
# Or view logs
docker logs -f evmd
```
</CodeGroup>

### Join Network

To join an existing network:

<CodeGroup>
```bash Ubuntu/Debian
# Download genesis
curl https://network.com/genesis.json > ~/.evmd/config/genesis.json

# Add seeds
sed -i 's/seeds = ""/seeds = "node-id@ip:26656"/' ~/.evmd/config/config.toml

# Start
evmd start
```

```bash macOS
# Download genesis
curl https://network.com/genesis.json > ~/.evmd/config/genesis.json

# Add seeds
sed -i '' 's/seeds = ""/seeds = "node-id@ip:26656"/' ~/.evmd/config/config.toml

# Start
evmd start
```

```bash Docker
# Download genesis
curl https://network.com/genesis.json > genesis.json
docker cp genesis.json evmd:/root/.evmd/config/genesis.json

# Update config
docker exec evmd sed -i 's/seeds = ""/seeds = "node-id@ip:26656"/' /root/.evmd/config/config.toml

# Restart
docker restart evmd
```
</CodeGroup>

## Verify Operation

Check that your node is running correctly:

```bash
# Check node status
curl -X POST http://localhost:26657/status | jq .

# Check Ethereum RPC
curl -X POST http://localhost:8545 \
  -H "Content-Type: application/json" \
  -d '{"jsonrpc":"2.0","method":"eth_blockNumber","params":[],"id":1}'
```

### MetaMask Configuration

Add to MetaMask:
- Network Name: `Local Cosmos EVM`
- RPC URL: `http://localhost:8545`
- Chain ID: `262144`
- Currency Symbol: `ATOM`

## Service Management

<Tabs>
  <Tab title="Ubuntu/Debian">
    ```bash
    # View status
    sudo systemctl status evmd

    # View logs
    sudo journalctl -u evmd -f

    # Stop service
    sudo systemctl stop evmd

    # Restart service
    sudo systemctl restart evmd
    ```
  </Tab>

  <Tab title="macOS">
    ```bash
    # View status
    launchctl list | grep evmd

    # View logs
    tail -f /tmp/evmd.out
    tail -f /tmp/evmd.err

    # Stop service
    launchctl unload ~/Library/LaunchAgents/com.cosmos.evmd.plist

    # Restart service
    launchctl unload ~/Library/LaunchAgents/com.cosmos.evmd.plist
    launchctl load ~/Library/LaunchAgents/com.cosmos.evmd.plist
    ```
  </Tab>

  <Tab title="Docker">
    ```bash
    # View status
    docker ps | grep evmd

    # View logs
    docker logs -f evmd

    # Stop container
    docker stop evmd

    # Restart container
    docker restart evmd

    # Remove container
    docker rm evmd
    ```
  </Tab>
</Tabs>

## Commands Reference

### Essential Commands

<CodeGroup>
```bash Native
# Node management
evmd init <moniker>
evmd start
evmd start --home /path/to/home
evmd version
evmd tendermint unsafe-reset-all

# Key management
evmd keys add <key-name>
evmd keys list
evmd keys show <key-name> -a

# Node info
evmd tendermint show-node-id
```

```bash Docker
# Node management
docker exec evmd evmd init <moniker>
docker exec evmd evmd version
docker exec evmd evmd tendermint unsafe-reset-all

# Key management
docker exec -it evmd evmd keys add <key-name>
docker exec evmd evmd keys list
docker exec evmd evmd keys show <key-name> -a

# Node info
docker exec evmd evmd tendermint show-node-id
```
</CodeGroup>

### Status Checks

```bash
# Sync status
curl localhost:26657/status | jq .result.sync_info

# Peer count
curl localhost:26657/net_info | jq .result.n_peers

# Latest block
curl localhost:26657/status | jq .result.sync_info.latest_block_height
```