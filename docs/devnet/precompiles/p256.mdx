---
title: "P256"
description: "P-256 elliptic curve cryptographic operations for secure communications and digital signatures"
icon: "key"
---

# P256 Precompile

**Address**: `0x0000000000000000000000000000000000000100`

**Related Module**: Core cryptographic functionality

The P256 precompile provides P-256 elliptic curve cryptographic operations, enabling smart contracts to perform secure cryptographic computations using the NIST P-256 curve.

## Functions

### verifySignature

**Signature**: `verifySignature(bytes32, P256Signature, P256Point) → bool`

**Description**: Verifies a P-256 ECDSA signature against a given hash and public key.

**Parameters**:
- `hash` (bytes32): The hash that was signed (typically SHA-256 of the original message)
- `signature` (P256Signature): The signature to verify containing r and s components
- `publicKey` (P256Point): The public key corresponding to the private key used for signing

**Returns**: Boolean indicating whether the signature is valid

### scalarMult

**Signature**: `scalarMult(bytes32, P256Point) → P256Point`

**Description**: Performs scalar multiplication on the P-256 elliptic curve.

**Parameters**:
- `scalar` (bytes32): The scalar value to multiply by
- `point` (P256Point): The elliptic curve point to multiply

**Returns**: The resulting point after scalar multiplication

### pointAdd

**Signature**: `pointAdd(P256Point, P256Point) → P256Point`

**Description**: Adds two points on the P-256 elliptic curve.

**Parameters**:
- `point1` (P256Point): First point to add
- `point2` (P256Point): Second point to add

**Returns**: The sum of the two points

### getGenerator

**Signature**: `getGenerator() → P256Point`

**Description**: Returns the generator point of the P-256 curve.

**Returns**: The generator point with predefined x and y coordinates

### isOnCurve

**Signature**: `isOnCurve(P256Point) → bool`

**Description**: Validates whether a given point lies on the P-256 elliptic curve.

**Parameters**:
- `point` (P256Point): The point to validate

**Returns**: Boolean indicating whether the point is on the curve

### compressPoint

**Signature**: `compressPoint(P256Point) → bytes`

**Description**: Compresses a P-256 point to its 33-byte representation.

**Parameters**:
- `point` (P256Point): The point to compress

**Returns**: 33-byte compressed representation of the point

### decompressPoint

**Signature**: `decompressPoint(bytes) → P256Point`

**Description**: Decompresses a 33-byte compressed point back to its full coordinates.

**Parameters**:
- `compressed` (bytes): The 33-byte compressed point data

**Returns**: The full point with both x and y coordinates

## Data Structures

### P256Point
- `x` (bytes32): X coordinate of the point
- `y` (bytes32): Y coordinate of the point

### P256Signature
- `r` (bytes32): R component of the signature
- `s` (bytes32): S component of the signature

<details>
<summary>ABI</summary>

```json
[
  {
    "inputs": [
      {"internalType": "bytes32", "name": "hash", "type": "bytes32"},
      {
        "components": [
          {"internalType": "bytes32", "name": "r", "type": "bytes32"},
          {"internalType": "bytes32", "name": "s", "type": "bytes32"}
        ],
        "internalType": "struct P256Signature",
        "name": "signature",
        "type": "tuple"
      },
      {
        "components": [
          {"internalType": "bytes32", "name": "x", "type": "bytes32"},
          {"internalType": "bytes32", "name": "y", "type": "bytes32"}
        ],
        "internalType": "struct P256Point",
        "name": "publicKey",
        "type": "tuple"
      }
    ],
    "name": "verifySignature",
    "outputs": [{"internalType": "bool", "name": "isValid", "type": "bool"}],
    "stateMutability": "view",
    "type": "function"
  },
  {
    "inputs": [
      {"internalType": "bytes32", "name": "scalar", "type": "bytes32"},
      {
        "components": [
          {"internalType": "bytes32", "name": "x", "type": "bytes32"},
          {"internalType": "bytes32", "name": "y", "type": "bytes32"}
        ],
        "internalType": "struct P256Point",
        "name": "point",
        "type": "tuple"
      }
    ],
    "name": "scalarMult",
    "outputs": [
      {
        "components": [
          {"internalType": "bytes32", "name": "x", "type": "bytes32"},
          {"internalType": "bytes32", "name": "y", "type": "bytes32"}
        ],
        "internalType": "struct P256Point",
        "name": "result",
        "type": "tuple"
      }
    ],
    "stateMutability": "view",
    "type": "function"
  },
  {
    "inputs": [
      {
        "components": [
          {"internalType": "bytes32", "name": "x", "type": "bytes32"},
          {"internalType": "bytes32", "name": "y", "type": "bytes32"}
        ],
        "internalType": "struct P256Point",
        "name": "point1",
        "type": "tuple"
      },
      {
        "components": [
          {"internalType": "bytes32", "name": "x", "type": "bytes32"},
          {"internalType": "bytes32", "name": "y", "type": "bytes32"}
        ],
        "internalType": "struct P256Point",
        "name": "point2",
        "type": "tuple"
      }
    ],
    "name": "pointAdd",
    "outputs": [
      {
        "components": [
          {"internalType": "bytes32", "name": "x", "type": "bytes32"},
          {"internalType": "bytes32", "name": "y", "type": "bytes32"}
        ],
        "internalType": "struct P256Point",
        "name": "result",
        "type": "tuple"
      }
    ],
    "stateMutability": "view",
    "type": "function"
  },
  {
    "inputs": [],
    "name": "getGenerator",
    "outputs": [
      {
        "components": [
          {"internalType": "bytes32", "name": "x", "type": "bytes32"},
          {"internalType": "bytes32", "name": "y", "type": "bytes32"}
        ],
        "internalType": "struct P256Point",
        "name": "generator",
        "type": "tuple"
      }
    ],
    "stateMutability": "pure",
    "type": "function"
  },
  {
    "inputs": [
      {
        "components": [
          {"internalType": "bytes32", "name": "x", "type": "bytes32"},
          {"internalType": "bytes32", "name": "y", "type": "bytes32"}
        ],
        "internalType": "struct P256Point",
        "name": "point",
        "type": "tuple"
      }
    ],
    "name": "isOnCurve",
    "outputs": [{"internalType": "bool", "name": "isOnCurve", "type": "bool"}],
    "stateMutability": "pure",
    "type": "function"
  },
  {
    "inputs": [
      {
        "components": [
          {"internalType": "bytes32", "name": "x", "type": "bytes32"},
          {"internalType": "bytes32", "name": "y", "type": "bytes32"}
        ],
        "internalType": "struct P256Point",
        "name": "point",
        "type": "tuple"
      }
    ],
    "name": "compressPoint",
    "outputs": [{"internalType": "bytes", "name": "compressed", "type": "bytes"}],
    "stateMutability": "pure",
    "type": "function"
  },
  {
    "inputs": [
      {"internalType": "bytes", "name": "compressed", "type": "bytes"}
    ],
    "name": "decompressPoint",
    "outputs": [
      {
        "components": [
          {"internalType": "bytes32", "name": "x", "type": "bytes32"},
          {"internalType": "bytes32", "name": "y", "type": "bytes32"}
        ],
        "internalType": "struct P256Point",
        "name": "point",
        "type": "tuple"
      }
    ],
    "stateMutability": "pure",
    "type": "function"
  }
]
```

</details>

<details>
<summary>Solidity Interface</summary>

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

struct P256Point {
    bytes32 x;                      // X coordinate of the point
    bytes32 y;                      // Y coordinate of the point
}

struct P256Signature {
    bytes32 r;                      // R component of the signature
    bytes32 s;                      // S component of the signature
}

interface IP256 {
    /**
     * @dev Verifies a P-256 ECDSA signature
     * @param hash The hash that was signed
     * @param signature The signature to verify
     * @param publicKey The public key to verify against
     * @return isValid Whether the signature is valid
     */
    function verifySignature(
        bytes32 hash,
        P256Signature memory signature,
        P256Point memory publicKey
    ) external view returns (bool isValid);

    /**
     * @dev Performs scalar multiplication on the P-256 curve
     * @param scalar The scalar to multiply by
     * @param point The point to multiply
     * @return result The resulting point
     */
    function scalarMult(
        bytes32 scalar,
        P256Point memory point
    ) external view returns (P256Point memory result);

    /**
     * @dev Adds two points on the P-256 curve
     * @param point1 First point to add
     * @param point2 Second point to add
     * @return result The sum of the two points
     */
    function pointAdd(
        P256Point memory point1,
        P256Point memory point2
    ) external view returns (P256Point memory result);

    /**
     * @dev Gets the generator point of the P-256 curve
     * @return generator The generator point
     */
    function getGenerator() external pure returns (P256Point memory generator);

    /**
     * @dev Validates if a point is on the P-256 curve
     * @param point The point to validate
     * @return isOnCurve Whether the point is on the curve
     */
    function isOnCurve(P256Point memory point) external pure returns (bool isOnCurve);

    /**
     * @dev Compresses a P-256 point to 33 bytes
     * @param point The point to compress
     * @return compressed The compressed point representation
     */
    function compressPoint(P256Point memory point) external pure returns (bytes memory compressed);

    /**
     * @dev Decompresses a 33-byte representation to a P-256 point
     * @param compressed The compressed point data
     * @return point The decompressed point
     */
    function decompressPoint(bytes memory compressed) external pure returns (P256Point memory point);
}
```

</details>