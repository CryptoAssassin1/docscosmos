---
title: "Overview of"
description: "Version: v0.47"
---

<Note>
  The Cosmos SDK allows much easier wiring of an `app.go` thanks to App Wiring and [`depinject`](/v0.47/build/packages/depinject). Learn more about the rationale of App Wiring in [ADR-057](/v0.47/build/architecture/adr-057-app-wiring).
</Note>

<Note>
  ### Pre-requisite Readings[​](#pre-requisite-readings "Direct link to Pre-requisite Readings")

  * [ADR 057: App Wiring](/v0.47/build/architecture/adr-057-app-wiring)
  * [Depinject Documentation](/v0.47/build/packages/depinject)
  * [Modules depinject-ready](/v0.47/build/building-modules/depinject)
</Note>

This section is intended to provide an overview of the `SimApp` `app_v2.go` file with App Wiring.

## `app_config.go`[​](#app_configgo "Direct link to app_configgo")

The `app_config.go` file is the single place to configure all modules parameters.

1. Create the `AppConfig` variable:

   simapp/app\_config.go

   ```
   loading...
   ```

   [See full example on GitHub](https://github.com/cosmos/cosmos-sdk/blob/v0.47.0-rc1/simapp/app_config.go#L91-L93)

2. Configure the `runtime` module:

   simapp/app\_config.go

   ```
   loading...
   ```

   [See full example on GitHub](https://github.com/cosmos/cosmos-sdk/blob/v0.47.0-rc1/simapp/app_config.go#L94-L158)

3. Configure the modules defined in the `BeginBlocker` and `EndBlocker` and the `tx` module:

   simapp/app\_config.go

   ```
   loading...
   ```

   [See full example on GitHub](https://github.com/cosmos/cosmos-sdk/blob/v0.47.0-rc1/simapp/app_config.go#L159-L177)

   simapp/app\_config.go

   ```
   loading...
   ```

   [See full example on GitHub](https://github.com/cosmos/cosmos-sdk/blob/v0.47.0-rc1/simapp/app_config.go#L192-L194)

### Complete `app_config.go`[​](#complete-app_configgo "Direct link to complete-app_configgo")

simapp/app\_config.go

```
loading...
```

[See full example on GitHub](https://github.com/cosmos/cosmos-sdk/blob/v0.47.0-rc1/simapp/app_config.go#L52-L254)

### Alternative formats[​](#alternative-formats "Direct link to Alternative formats")

<Check>
  The example above shows how to create an `AppConfig` using Go. However, it is also possible to create an `AppConfig` using YAML, or JSON. The configuration can then be embed with `go:embed` and read with [`appconfig.LoadYAML`](https://pkg.go.dev/cosmossdk.io/core/appconfig#LoadYAML), or [`appconfig.LoadJSON`](https://pkg.go.dev/cosmossdk.io/core/appconfig#LoadJSON), in `app_v2.go`.

  ```
  //go:embed app_config.yamlvar (    appConfigYaml []byte    appConfig = appconfig.LoadYAML(appConfigYaml))
  ```
</Check>

```
modules:  - name: runtime    config:      "@type": cosmos.app.runtime.v1alpha1.Module      app_name: SimApp      begin_blockers: [staking, auth, bank]      end_blockers: [bank, auth, staking]      init_genesis: [bank, auth, staking]  - name: auth    config:      "@type": cosmos.auth.module.v1.Module      bech32_prefix: cosmos  - name: bank    config:      "@type": cosmos.bank.module.v1.Module  - name: staking    config:      "@type": cosmos.staking.module.v1.Module  - name: tx    config:      "@type": cosmos.tx.module.v1.Module
```

A more complete example of `app.yaml` can be found [here](https://github.com/cosmos/cosmos-sdk/blob/91b1d83f1339e235a1dfa929ecc00084101a19e3/simapp/app.yaml).

## `app_v2.go`[​](#app_v2go "Direct link to app_v2go")

`app_v2.go` is the place where `SimApp` is constructed. `depinject.Inject` facilitates that by automatically wiring the app modules and keepers, provided an application configuration `AppConfig` is provided. `SimApp` is constructed, when calling the injected `*runtime.AppBuilder`, with `appBuilder.Build(...)`. In short `depinject` and the [`runtime` package](https://pkg.go.dev/github.com/cosmos/cosmos-sdk/runtime) abstract the wiring of the app, and the `AppBuilder` is the place where the app is constructed. [`runtime`](https://pkg.go.dev/github.com/cosmos/cosmos-sdk/runtime) takes care of registering the codecs, KV store, subspaces and instantiating `baseapp`.

simapp/app\_v2.go

```
loading...
```

[See full example on GitHub](https://github.com/cosmos/cosmos-sdk/blob/v0.47.0-rc1/simapp/app_v2.go#L158-L291)

<Warning>
  When using `depinject.Inject`, the injected types must be pointers.
</Warning>

### Advanced Configuration[​](#advanced-configuration "Direct link to Advanced Configuration")

In advanced cases, it is possible to inject extra (module) configuration in a way that is not (yet) supported by `AppConfig`. In this case, use `depinject.Configs` for combining the extra configuration and `AppConfig`, and `depinject.Supply` to providing that extra configuration. More information on how work `depinject.Configs` and `depinject.Supply` can be found in the [`depinject` documentation](https://pkg.go.dev/cosmossdk.io/depinject).

simapp/app\_v2.go

```
loading...
```

[See full example on GitHub](https://github.com/cosmos/cosmos-sdk/blob/v0.47.0-rc1/simapp/app_v2.go#L186-L216)

### Complete `app_v2.go`[​](#complete-app_v2go "Direct link to complete-app_v2go")

<Check>
  Note that in the complete `SimApp` `app_v2.go` file, testing utilities are also defined, but they could as well be defined in a separate file.
</Check>

simapp/app\_v2.go

```
loading...
```

[See full example on GitHub](https://github.com/cosmos/cosmos-sdk/blob/v0.47.0-rc1/simapp/app_v2.go#L75-L395)
